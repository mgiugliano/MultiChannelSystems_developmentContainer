
Personal development environment for MC Stream ANSI
===================================================

14/3/2018 - Michele Giugliano (mgiugliano@gmail.com)

This is work in progress and it is not intended for the public.

In the lab, we daily use custom Linux code to access *.mcd binary files.
These files are generated by the data acquisition software MC Rack and have
a proprietary format. Compiling (and running?) the custom executable code requires
linking to libraries provided by the vendor, MultiChannel System. The vendor 
has very generously provided us with their source code, several years ago. 
Generating the libraries for whatever host operating system is then a matter of
"running a makefile" and firing up a compiler.

Unfortunately, the (old) vendor libraries in our hands are written in C++ and call some
later deprecated functions of dependent libraries (i.e. Lib Boost). This means that,
in order to compile the vendor library, one needs to have installed the correct version
of the Boost libraries (i.e. v. 1.44).

On a modern release of Debian (i.e. read probably a "newer version of the compiler and standard
library"), I failed to install and compile Lib Boost 1.44. As a consequence, I failed to compile
the vendor libraries.

I was instead successful using an older version of Debian (i.e. 2013, Debian 7 (Wheezy)).

I have therefore created a Docker container for compiling the boost and vedor libraries,
based on Wheezy. My plan is to later use this as a development environment to compile or
maintain my linux code and possibly compile it statically. Then no dependencies will be needed
and the executable can be "released" in the wild as a binary executable.

The present environment is released as a Docker container. It is in fact possible to 
enter an interactive session e.g. by > docker run -it --rm mcs_env (see the Dockerfile)

All the libraries and include files are at /usr/local/lib and /usr/local/include

Note that the additional files released here are

- Boost 1.44 was downloaded from from https://sourceforge.net/projects/boost/files/boost/1.44.0/
(i.e. https://10gbps-io.dl.sourceforge.net/project/boost/boost/1.44.0/boost_1_44_0.tar.gz)

- The vendor source code library very slightly adapted in terms of Makefile to compile it


Note: The output of the command ldd returns the list of the shared libraries required by one of our code.

ldd channel_extract

        linux-vdso.so.1 =>  (0x00007fff85fff000)
        libboost_filesystem.so.1.42.0 => /usr/lib/libboost_filesystem.so.1.42.0 (0x00007ffce52a9000)
        libboost_system.so.1.42.0 => /usr/lib/libboost_system.so.1.42.0 (0x00007ffce50a5000)
        libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007ffce4d9d000)
        libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007ffce4b1b000)
        libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007ffce4905000)
        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007ffce4578000)
        libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007ffce435c000)
        librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007ffce4154000)
        /lib64/ld-linux-x86-64.so.2 (0x00007ffce54d4000)





